ㅇ# Othello vs AI - 강력한 AI와 대결하는 오델로 게임

이 프로젝트는 강력한 AI 엔진을 탑재한 오델로(리버시) 게임입니다. 알파-베타 검색, 트랜스포지션 테이블, 반복 심화, 그리고 학습 가능한 평가 함수를 사용하여 매우 강력한 AI를 구현했습니다.

## 🎯 주요 기능

- **강력한 AI 엔진**: 알파-베타 검색 + 반복 심화 + 트랜스포지션 테이블
- **학습 가능한 평가**: TD(λ) 알고리즘으로 가중치를 자동 학습
- **완벽한 게임 규칙**: 공식 오델로 규칙 완벽 구현
- **사용자 친화적 UI**: 미리보기/확인, 되돌리기, 패스 등 모든 기능
- **Figma 에셋**: 전문적으로 디자인된 게임 보드와 돌

## 🏗️ 아키텍처

```
/backend/othello/
├── board.py      # 게임 규칙과 보드 상태 관리
├── eval.py       # 학습 가능한 평가 함수
├── search.py     # AI 검색 엔진 (알파-베타 + TT + ID)
├── opening.py    # 오프닝 북 관리
├── server.py     # FastAPI 서버
└── train_td.py   # TD(λ) 학습 스크립트

/frontend/
├── index.html    # 메인 게임 UI
└── assets/       # Figma에서 내보낸 에셋들
```

## 🚀 실행 방법

### 1. 백엔드 실행

```bash
cd backend

# 가상환경 생성 및 활성화
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# 의존성 설치
pip install -r requirements.txt

# 서버 실행
uvicorn othello.server:app --reload --port 8000
```

### 2. 프론트엔드 실행

```bash
cd frontend

# 정적 서버 실행 (포트 5173)
python -m http.server 5173 -d .

# 브라우저에서 http://localhost:5173 열기
```

## 🎮 게임 기능

### 핵심 기능
- **미리보기/확인**: 수를 두기 전에 결과를 미리 확인
- **되돌리기**: 한 수 또는 한 턴 되돌리기
- **패스**: 합법적인 수가 없을 때 자동/수동 패스
- **사이드 선택**: 흑 또는 백으로 시작 선택
- **게임 종료 모달**: 최종 결과와 승자 표시

### AI 엔진 특징
- **반복 심화**: 시간 제한 내에서 최대 깊이까지 검색
- **트랜스포지션 테이블**: 동일한 위치 재검색 방지
- **수 순서 최적화**: TT → 모서리 → 킬러 → 히스토리 → 기타
- **엔드게임 정확성**: 12개 이하 빈 칸에서는 완벽한 검색

## 🧠 AI 학습

### TD(λ) 학습
```bash
cd backend
python -m othello.train_td
```

**학습 파라미터**:
- α (학습률): 1e-4
- λ (TD(λ)): 0.7
- ε (탐험): 0.15
- 에피소드: 1000-5000

### 평가 특징
- **기동성**: 합법적인 수의 개수
- **모서리**: 모서리 점수 (25배 가중치)
- **모서리 근접성**: 빈 모서리 근처의 돌
- **프론티어**: 가장자리에 있는 돌
- **PSQT**: 위치별 정적 점수
- **패리티**: 돌 개수 차이

## 📊 API 엔드포인트

| 엔드포인트 | 메서드 | 설명 |
|-----------|--------|------|
| `/new` | POST | 새 게임 시작 |
| `/state` | GET | 현재 게임 상태 |
| `/preview` | POST | 수 미리보기 |
| `/move` | POST | 수 실행 |
| `/ai_move` | POST | AI 수 실행 |
| `/undo` | POST | 수 되돌리기 |
| `/pass` | POST | 패스 |
| `/info` | GET | 엔진 정보 |

## 🎨 UI/UX 특징

- **반응형 디자인**: 모바일과 데스크톱 모두 지원
- **직관적인 컨트롤**: 모든 게임 기능을 쉽게 접근
- **시각적 피드백**: 합법적인 수, 현재 플레이어, 게임 상태 표시
- **부드러운 애니메이션**: 돌 배치, 호버 효과 등

## 🔧 개발 및 테스트

### 단위 테스트
```bash
cd backend
python -m pytest tests/
```

### 성능 테스트
```bash
# AI 응답 시간 테스트
curl -X POST "http://localhost:8000/ai_move?max_time_ms=1000"
```

## 📈 성능 최적화

- **트랜스포지션 테이블**: 64-256MB 크기 권장
- **수 순서 최적화**: 모서리 우선, 킬러 휴리스틱
- **압축 윈도우**: 깊은 검색에서 속도 향상
- **오프닝 북**: 자주 나오는 초반 수들 미리 저장

## 🌟 향후 개선 계획

- [ ] MCTS-UCT 엔진 모드 추가
- [ ] 더 정교한 오프닝 북 확장
- [ ] 온라인 멀티플레이어 지원
- [ ] 게임 분석 및 통계 기능
- [ ] 모바일 앱 버전

## 📝 라이선스

MIT License

## 🤝 기여하기

버그 리포트, 기능 제안, PR 모두 환영합니다!

---

**즐거운 게임 되세요! 🎮**
